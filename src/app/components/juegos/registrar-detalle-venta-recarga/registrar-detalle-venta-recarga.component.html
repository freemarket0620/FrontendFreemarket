<div class="container mt-4">
  <h3 class="mb-4">Registrar Detalle de Venta de Recarga</h3>

  <form [formGroup]="detalleForm" (ngSubmit)="registrarDetalleVenta()">
    <div class="row g-3">
      <!-- Selección de Recarga -->
      <div class="col-md-6">
        <label for="recarga" class="form-label">Recarga</label>
        <select
          id="recarga"
          class="form-select"
          formControlName="recarga"
          required
        >
          <option value="" disabled>Seleccione Recarga</option>
          <option *ngFor="let r of productos" [value]="r.id">
            {{ r.nombre }} - {{ r.cantidad }}
          </option>
        </select>
      </div>

      <!-- Usuario Juego ID -->
      <div class="col-md-6">
        <label for="usuario_juego_id" class="form-label"
          >Usuario Juego ID</label
        >
        <input
          type="text"
          id="usuario_juego_id"
          class="form-control"
          formControlName="usuario_juego_id"
          required
        />
      </div>

      <!-- Nombre Jugador -->
      <div class="col-md-6">
        <label for="nombre_jugador" class="form-label">Nombre Jugador</label>
        <input
          type="text"
          id="nombre_jugador"
          class="form-control"
          formControlName="nombre_jugador"
        />
      </div>

      <!-- Contraseña Jugador -->
      <div class="col-md-6">
        <label for="password_jugador" class="form-label"
          >Contraseña Jugador</label
        >
        <input
          type="text"
          id="password_jugador"
          class="form-control"
          formControlName="password_jugador"
        />
      </div>

      <!-- Cantidad -->
      <div class="col-md-3">
        <label for="cantidad" class="form-label">Cantidad</label>
        <input
          type="number"
          id="cantidad"
          class="form-control"
          formControlName="cantidad"
        />
      </div>

      <!-- Precio Venta -->
      <div class="col-md-3">
        <label for="precio" class="form-label">Precio Venta</label>
        <input
          type="number"
          id="precio"
          class="form-control"
          formControlName="precio"
          readonly
        />
      </div>

      <!-- Subtotal -->
      <div class="col-md-6">
        <label for="subtotal" class="form-label">Subtotal</label>
        <input
          type="number"
          id="subtotal"
          class="form-control"
          formControlName="subtotal"
          readonly
        />
      </div>

      <!-- Estado -->
      <div class="col-md-6">
        <label for="estado" class="form-label">Estado</label>
        <select id="estado" class="form-select" formControlName="estado">
          <option value="PENDIENTE">PENDIENTE</option>
          <option value="COMPLETADO">COMPLETADO</option>
          <option value="CANCELADO">CANCELADO</option>
        </select>
      </div>
    </div>

    <!-- Botones -->
    <div class="mt-4">
      <button type="submit" class="btn btn-success me-2">Registrar</button>
      <button type="button" class="btn btn-secondary" (click)="volver()">
        Cancelar
      </button>
    </div>
  </form>

  <!-- Mensajes Modal -->
  <div *ngIf="mensajeModal" class="alert alert-success mt-3">
    {{ mensajeModal }}
  </div>
  <div *ngIf="errorModal" class="alert alert-danger mt-3">
    {{ errorModal }}
  </div>
</div>
